package com.vitalii.vitaliiFramework2.helpers;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.Properties;

public class Configurations {
	
	public static final String PROPERTIES_FILE_NAME = "Configuration.properties";
	static Properties properties  = new Properties();
	static String defaultEnvironment = System.getProperty("environment");
	//static String defaultEnvironment = "test";
	 
	public Configurations () {
		try {
			FileInputStream locator = new FileInputStream(System.getProperty("user.dir") + "\\" + PROPERTIES_FILE_NAME);
			properties.load(locator);
			System.out.println(locator);
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
 
	public static String getProperty(String propertyName) {
		Configurations conf = new Configurations(); //created just for initialization of the constructor above. TODO: move to @before method
		System.out.println("getProperty IN" + propertyName);
		return properties.getProperty(propertyName);
	}
	
	public static String getEnvironmentUrl() {
		switch (defaultEnvironment) {
		case "test":
			return getProperty("TestEnvironmentUrl");
		case "uat":
			return getProperty("UatEnvironmentURL");
		default:
			getProperty("TestEnvironmentURL");
		}
		return defaultEnvironment;
	}
}
